"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3034],{3034:(b,d,s)=>{s.r(d),s.d(d,{SinglerecipePageModule:()=>P});var p=s(177),g=s(4341),o=s(8974),h=s(1626),a=s(7570),e=s(4438),m=s(3366);function _(n,c){if(1&n&&(e.j41(0,"ion-item",18)(1,"ion-label"),e.EFF(2),e.k0s()()),2&n){const r=c.$implicit;e.R7$(2),e.E5c("",r.amount," ",r.amount_unit," ",r.name,"")}}function f(n,c){if(1&n&&(e.j41(0,"ion-item",18)(1,"ion-label"),e.EFF(2),e.k0s()()),2&n){const r=c.$implicit;e.R7$(2),e.JRh(r.description)}}function v(n,c){if(1&n){const r=e.RV6();e.j41(0,"ion-card")(1,"ion-card-header",8)(2,"ion-card-title")(3,"div",9),e.EFF(4),e.k0s(),e.j41(5,"div"),e.EFF(6),e.k0s()()(),e.j41(7,"ion-card-content")(8,"ion-row")(9,"ion-col",10)(10,"ion-title",11),e.EFF(11,"Ingredients"),e.k0s(),e.j41(12,"ion-list",12),e.DNE(13,_,3,3,"ion-item",13),e.k0s()(),e.j41(14,"ion-col",14)(15,"ion-title",11),e.EFF(16,"Directions"),e.k0s(),e.j41(17,"ion-list",15),e.DNE(18,f,3,1,"ion-item",13),e.k0s()()(),e.nrm(19,"br"),e.j41(20,"ion-button",16),e.bIt("click",function(){e.eBV(r);const t=e.XpG();return e.Njj(t.editRecipe())}),e.EFF(21,"Edit"),e.k0s(),e.j41(22,"ion-button",17),e.bIt("click",function(){e.eBV(r);const t=e.XpG();return e.Njj(t.updatePin())}),e.EFF(23),e.k0s(),e.j41(24,"ion-button",17),e.bIt("click",function(){e.eBV(r);const t=e.XpG();return e.Njj(t.deleteRecipe())}),e.EFF(25,"Delete"),e.k0s()()()}if(2&n){const r=e.XpG();e.R7$(4),e.JRh(r.recipe.title),e.R7$(2),e.Lme("",r.recipe.time," ",r.recipe.time_unit,""),e.R7$(6),e.Y8G("inset",!0),e.R7$(),e.Y8G("ngForOf",r.recipe.ingredients),e.R7$(4),e.Y8G("inset",!0),e.R7$(),e.Y8G("ngForOf",r.recipe.directions),e.R7$(5),e.JRh(r.recipe.pinned?"Unpin":"Pin")}}const R=[{path:"",component:(()=>{var n;class c{constructor(i,t,u){this.route=i,this._router=t,this.apiService=u,this.recipe=null,this.searchQuery=""}ngOnInit(){this.route.params.subscribe(i=>{this.loadRecipe(i.id)})}ionChange(i){console.log("search event: ",i.detail.value),this.searchQuery="",this._router.navigate(["/search",i.detail.value])}loadRecipe(i){console.log("loading recipe..."),this.apiService.get_with_id("recipes",i).subscribe({next:t=>{console.log("Load Recipe Response",t),console.log("Recipe:",t.recipe),this.recipe=t.recipe},error:t=>{console.error("Error getting recipe details:",t)},complete:()=>{}})}editRecipe(){var i;this._router.navigate(["/newrecipe",null===(i=this.recipe)||void 0===i?void 0:i.id])}goToAccount(){this._router.navigate(["/useraccount"])}deleteRecipe(){var i;this.apiService.delete_with_id("recipes",(null===(i=this.recipe)||void 0===i?void 0:i.id.toString())||"").subscribe({next:t=>{console.log("Recipe deleted successfully"),this.goHome()},error:t=>{console.error("Recipe deletion unsuccessful:",t)},complete:()=>{}})}updatePin(){var i;this.recipe&&(this.recipe.pinned=!this.recipe.pinned,this.apiService.put_with_id("recipes",(null===(i=this.recipe)||void 0===i?void 0:i.id.toString())||"",{update_pinned:this.recipe.pinned}).subscribe({next:t=>{console.log("Recipe pin updated")},error:t=>{console.error("Error updating recipe pin:",t)},complete:()=>{}}))}goHome(){this._router.navigate(["/home"])}}return(n=c).\u0275fac=function(i){return new(i||n)(e.rXU(a.nX),e.rXU(a.Ix),e.rXU(m.G))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-singlerecipe"]],decls:11,vars:4,consts:[[3,"translucent"],["slot","start"],["color","primary"],["enterkeyhint","search","debounce","1000",1,"search",3,"ngModelChange","ionChange","ngModel"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngIf"],["color","primary",1,"header"],[2,"font-size","25px"],[1,"ingredients"],["color","primary",1,"ion-text-center","title"],["lines","none",3,"inset"],["class","ion-text-center",4,"ngFor","ngForOf"],[1,"directions"],["lines","inset",3,"inset"],["button","","color","warning",3,"click"],["button","",3,"click"],[1,"ion-text-center"]],template:function(i,t){1&i&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button",2),e.k0s(),e.j41(4,"ion-searchbar",3),e.mxI("ngModelChange",function(l){return e.DH7(t.searchQuery,l)||(t.searchQuery=l),l}),e.bIt("ionChange",function(l){return t.ionChange(l)}),e.k0s()()(),e.j41(5,"ion-content",4)(6,"ion-header",5)(7,"ion-toolbar")(8,"ion-title",6),e.EFF(9,"Single Recipe"),e.k0s()()(),e.DNE(10,v,26,8,"ion-card",7),e.k0s()),2&i&&(e.Y8G("translucent",!0),e.R7$(4),e.R50("ngModel",t.searchQuery),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("ngIf",t.recipe))},dependencies:[p.Sq,p.bT,g.BC,g.vS,o.Jm,o.QW,o.b_,o.I9,o.ME,o.tN,o.hU,o.W9,o.eU,o.uz,o.he,o.nf,o.MC,o.ln,o.S1,o.BC,o.ai,o.Gw],styles:[".card[_ngcontent-%COMP%]{box-shadow:none!important}.ingredients[_ngcontent-%COMP%]{max-width:25%}.directions[_ngcontent-%COMP%]{max-width:75%}.title[_ngcontent-%COMP%]{margin-top:15px;font-family:Yeseva One,serif;font-weight:400;font-style:normal}"]}),c})()}];let S=(()=>{var n;class c{}return(n=c).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[a.iI.forChild(R),a.iI]}),c})(),P=(()=>{var n;class c{}return(n=c).\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.MD,g.YN,o.bv,S,h.q1]}),c})()}}]);