"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9689],{9689:(F,h,s)=>{s.r(h),s.d(h,{SinglesectionPageModule:()=>R});var u=s(177),d=s(4341),c=s(8974),g=s(7570),e=s(4438),p=s(1626),_=s(5721),m=s(3366);function S(i,r){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()()()),2&i){const o=e.XpG(2);e.R7$(3),e.JRh(o.section.description)}}function f(i,r){if(1&i){const o=e.RV6();e.j41(0,"ion-item",12),e.bIt("click",function(){const t=e.eBV(o).$implicit,a=e.XpG(2);return e.Njj(a.goToRecipe(t.id.toString()))}),e.j41(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-label",13),e.EFF(4),e.k0s()()}if(2&i){const o=r.$implicit;e.R7$(2),e.JRh(o.title),e.R7$(2),e.Lme("Time: ",o.time," ",o.time_unit,"")}}function v(i,r){if(1&i){const o=e.RV6();e.j41(0,"ion-card")(1,"ion-card-header",7)(2,"ion-card-title",8),e.EFF(3),e.k0s()(),e.j41(4,"ion-card-content"),e.DNE(5,S,4,1,"ion-card",6),e.j41(6,"ion-list",9),e.DNE(7,f,5,3,"ion-item",10),e.k0s(),e.nrm(8,"br"),e.j41(9,"ion-button",11),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.editSection())}),e.EFF(10,"Edit"),e.k0s(),e.j41(11,"ion-button",12),e.bIt("click",function(){e.eBV(o);const t=e.XpG();return e.Njj(t.deleteSection())}),e.EFF(12,"Delete"),e.k0s()()()}if(2&i){const o=e.XpG();e.R7$(3),e.JRh(o.section.title),e.R7$(2),e.Y8G("ngIf",null!==o.section.description),e.R7$(2),e.Y8G("ngForOf",o.recipes)}}const b=[{path:"",component:(()=>{var i;class r{constructor(n,t,a,l,j){this.http=n,this.route=t,this._router=a,this.authService=l,this.apiService=j,this.searchQuery="",this.recipes=[]}ngOnInit(){this.route.params.subscribe(n=>{const t=n.id;this.loadSection(t),this.loadSectionRecipes(t)})}ionChange(n){console.log("search event: ",n.detail.value),this.searchQuery="",this._router.navigate(["/search",n.detail.value])}loadSection(n){this.apiService.get_with_id("sections",n.toString()).subscribe({next:t=>{console.log("Section:",t.section),this.section=t.section},error:t=>{console.error("Error getting section details:",t)},complete:()=>{}})}deleteSection(){this.apiService.delete_with_id("sections",this.section.id.toString()).subscribe({next:n=>{console.log("Section deleted successfully"),this.goHome()},error:n=>{console.error("Section deletion unsuccessful:",n)},complete:()=>{}})}loadSectionRecipes(n){console.log("Loading recipes..."),this.apiService.get_all("recipes",`?section_id=${n}`).subscribe({next:t=>{console.log("All section recipes response:",t),this.recipes=t.recipes},error:t=>{console.error("Error getting section recipes:",t)},complete:()=>{}})}goToAccount(){this._router.navigate(["/useraccount"])}goHome(){this._router.navigate(["/home"])}goRecipe(){this._router.navigate(["/singlerecipe"])}goToRecipe(n){this._router.navigate(["/recipe",n])}editSection(){this._router.navigate(["/newsection",this.section.id])}}return(i=r).\u0275fac=function(n){return new(n||i)(e.rXU(p.Qq),e.rXU(g.nX),e.rXU(g.Ix),e.rXU(_.u),e.rXU(m.G))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-singlesection"]],decls:11,vars:4,consts:[[3,"translucent"],["slot","start"],["enterkeyhint","search","debounce","1000",1,"search",3,"ngModelChange","ionChange","ngModel"],[3,"fullscreen"],["collapse","condense"],["size","large"],[4,"ngIf"],["color","primary",1,"header"],[1,"ion-text-center"],[1,"recipe-list"],["button","",3,"click",4,"ngFor","ngForOf"],["button","","color","warning",3,"click"],["button","",3,"click"],[1,"ion-text-right"]],template:function(n,t){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"ion-searchbar",2),e.mxI("ngModelChange",function(l){return e.DH7(t.searchQuery,l)||(t.searchQuery=l),l}),e.bIt("ionChange",function(l){return t.ionChange(l)}),e.k0s()()(),e.j41(5,"ion-content",3)(6,"ion-header",4)(7,"ion-toolbar")(8,"ion-title",5),e.EFF(9,"Single Section"),e.k0s()()(),e.DNE(10,v,13,3,"ion-card",6),e.k0s()),2&n&&(e.Y8G("translucent",!0),e.R7$(4),e.R50("ngModel",t.searchQuery),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("ngIf",t.section))},dependencies:[u.Sq,u.bT,d.BC,d.vS,c.Jm,c.QW,c.b_,c.I9,c.ME,c.tN,c.W9,c.eU,c.uz,c.he,c.nf,c.MC,c.S1,c.BC,c.ai,c.Gw],styles:[".header[_ngcontent-%COMP%]{font-family:Yeseva One,serif;font-weight:400;font-style:normal}.recipe-list[_ngcontent-%COMP%]{margin-left:3%;margin-right:3%}"]}),r})()}];let P=(()=>{var i;class r{}return(i=r).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.iI.forChild(b),g.iI]}),r})(),R=(()=>{var i;class r{}return(i=r).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[u.MD,d.YN,c.bv,P]}),r})()}}]);