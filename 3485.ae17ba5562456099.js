"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(y,c,l)=>{l.r(c),l.d(c,{LoginPageModule:()=>L});var d=l(177),r=l(4341),t=l(8974),u=l(7570),m=l(467),e=l(4438),f=l(5721);function p(i,a){1&i&&(e.j41(0,"ion-item",9),e.nrm(1,"ion-input",16),e.k0s())}const h=[{path:"",component:(()=>{var i;class a{constructor(n,o,g,b,P){this._router=n,this.formBuilder=o,this.authService=g,this.menu=b,this.alertController=P,this.disableButton=!1,this.isLogin=!0,this.loginForm=this.formBuilder.group({username:[""],email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required]]})}ngOnInit(){}ionViewWillEnter(){this.menu.enable(!1)}presentAlert(n){var o=this;return(0,m.A)(function*(){yield(yield o.alertController.create({header:"Alert",message:n,buttons:["OK"]})).present()})()}login(){var n=this;return(0,m.A)(function*(){if(n.loginForm.invalid)return console.log("loginForm is invalid"),n.presentAlert("Login failed. Invalid credentials. "),void n.loginForm.reset();try{n.disableButton=!0,yield n.authService.login(n.loginForm.value),n.loginForm.reset()}catch(o){console.error("Login failed:",o),n.presentAlert("Login failed. Invalid credentials. "),n.loginForm.reset()}finally{n.disableButton=!1}})()}register(){var n=this;return(0,m.A)(function*(){if(n.loginForm.invalid)return console.log("loginForm is invalid"),void n.presentAlert("Registration failed. Invalid credentials.");try{n.disableButton=!0,yield n.authService.register(n.loginForm.value),n.loginForm.reset()}catch(o){console.error("Registration failed:",o),400===o.status&&"Email already exists"===o.error.error&&n.presentAlert("Email already exists")}finally{n.disableButton=!1}})()}goHome(){this._router.navigate(["/home"])}}return(i=a).\u0275fac=function(n){return new(n||i)(e.rXU(u.Ix),e.rXU(r.ok),e.rXU(f.u),e.rXU(t._t),e.rXU(t.hG))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-login"]],decls:27,vars:8,consts:[[3,"translucent"],["alt","logo","src","assets/icon/recipieboxlogolong.png",1,"logo-margin",2,"width","180px","height","100px"],[3,"fullscreen"],["collapse","condense"],["size","large"],["color","primary",1,"header"],[1,"ion-text-center"],[3,"ngSubmit","formGroup"],["class","input",4,"ngIf"],[1,"input"],["labelPlacement","floating","label","Email","formControlName","email","type","email"],["labelPlacement","floating","label","Password","formControlName","password","type","password"],["type","submit",3,"disabled"],[1,"container"],[1,"center"],["fill","clear",3,"click"],["labelPlacement","floating","label","Name","formControlName","username","type","text"]],template:function(n,o){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar"),e.nrm(2,"img",1),e.k0s()(),e.j41(3,"ion-content",2)(4,"ion-header",3)(5,"ion-toolbar")(6,"ion-title",4),e.EFF(7,"Login"),e.k0s()()(),e.j41(8,"ion-card")(9,"ion-card-header",5)(10,"ion-card-title",6),e.EFF(11),e.k0s()(),e.j41(12,"ion-card-content")(13,"form",7),e.bIt("ngSubmit",function(){return o.isLogin?o.login():o.register()}),e.j41(14,"ion-list"),e.DNE(15,p,2,0,"ion-item",8),e.j41(16,"ion-item",9),e.nrm(17,"ion-input",10),e.k0s(),e.j41(18,"ion-item",9),e.nrm(19,"ion-input",11),e.k0s()(),e.nrm(20,"br"),e.j41(21,"ion-button",12),e.EFF(22),e.k0s()(),e.j41(23,"div",13)(24,"div",14)(25,"ion-button",15),e.bIt("click",function(){return o.isLogin=!o.isLogin}),e.EFF(26),e.k0s()()()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(3),e.Y8G("fullscreen",!0),e.R7$(8),e.JRh(o.isLogin?"User Login":"User Registration"),e.R7$(2),e.Y8G("formGroup",o.loginForm),e.R7$(2),e.Y8G("ngIf",!o.isLogin),e.R7$(6),e.Y8G("disabled",o.disableButton),e.R7$(),e.JRh(o.isLogin?"Log In":"Register"),e.R7$(4),e.JRh(o.isLogin?"Don't Have an Account? Register":"Have an Account? Login"))},dependencies:[d.bT,r.qT,r.BC,r.cb,t.Jm,t.b_,t.I9,t.ME,t.tN,t.W9,t.eU,t.$w,t.uz,t.nf,t.BC,t.ai,t.Gw,r.j4,r.JD],styles:[".container[_ngcontent-%COMP%]{height:20px;position:relative}.center[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.input[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}"]}),a})()}];let v=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[u.iI.forChild(h),u.iI]}),a})(),L=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({providers:[f.u],imports:[d.MD,r.YN,t.bv,v,r.X1]}),a})()}}]);